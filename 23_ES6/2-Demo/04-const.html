<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://google.github.io/traceur-compiler/bin/traceur.js"></script>
    <script src="https://google.github.io/traceur-compiler/bin/BrowserSystem.js"></script>
    <script src="https://google.github.io/traceur-compiler/src/bootstrap.js"></script>
</head>
<body>
    <script type="text/traceur">
        console.log("=======================================================");
        console.log("const声明");
        const PI = 3.141592653;
        // PI = 3;  // error: PI is read-only,程序终止
        console.log(PI);
        console.log("5 * PI = " + 5 * PI);

        
        console.log("=======================================================");
        console.log("const的块级作用域");
        if(true){
            const MAXSIZE = 100;
        }
        // console.log(MAXSIZE);   // error: MAXSIZE is not defined
        
        
        console.log("=======================================================");
        console.log("const的暂时性死区");
        {
            console.log("DEAD ZONE: " + DEADZONE);
            // var DEADZONE = 888; // error:  Duplicate declaration, DEADZONE
            const DEADZONE = 999;
            console.log("DEAD ZONE: " + DEADZONE);
        }



        console.log("=======================================================");
        console.log("const对象");
        const person = {};
        person.name = 'tecwang';
        person.age = 30;

        person.age = 40;

        console.log('person.name = ' + person.name);
        console.log('person.age = ' + person.age);
        console.log(person);

        // person = {};    // person is read-only



        console.log("=======================================================");
        console.log("const数组");
        const arr = [];
        console.log(arr);
        console.log("arr.length = " + arr.length);
        console.log("----------------------");

        arr.push("hello world!");
        console.log(arr);
        console.log("arr.length = " + arr.length);  // 0
        console.log("----------------------");
        
        arr.length = 0;
        console.log(arr);
        console.log("arr.length = " + arr.length);
        
        // arr = [1,2,3];  // arr is read-only



        console.log("=======================================================");
        console.log("const对象冻结");
        const object = Object.freeze({
            desc: 'freezed object'
        });
        object.size = 100;
        object.name = 'box';
        console.log("object.desc: " + object.desc); // freezed object
        console.log("object.name: " + object.name); // undefined
        console.log("object.size: " + object.size); // undefined
        console.log("object: " + object);
    </script>
</body>
</html>