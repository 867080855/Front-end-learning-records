<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <div id="container">
        <canvas>

        </canvas>
    </div>
    <script>

        var data = [{
            "value": .2,
            "color": "red",
            "title": "应届生"
        },{
            "value": .3,
            "color": "blue",
            "title": "社会招生"
        },{
            "value": .4,
            "color": "green",
            "title": "老学员推荐"
        },{
            "value": .1,
            "color": "#ccc",
            "title": "公开课"
        }];


        function paintCake(data){
            var canvas = document.querySelector("canvas");
            var ctx = canvas.getContext('2d');

            canvas.width = 600;
            canvas.height = 600;
            canvas.style.border = '1px solid #000';

            var startAngle = -90;
            var endAngle = 0;
            for(var x = 0; x < data.length; x++ ){
                endAngle = startAngle + data[x].value*360;
                ctx.beginPath();
                ctx.moveTo(300,300);
                ctx.arc(300,300,100,startAngle*Math.PI/180,endAngle*Math.PI/180);
                ctx.fillStyle = data[x].color;
                ctx.fill();
                startAngle = endAngle;
            }

        }
    (function () {
        paintCake(data);

    }());

    </script>
</body>
</html>