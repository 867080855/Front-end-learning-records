<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>固定导航栏</title>
    <style>
        *{margin:0;padding:0}
        img{
            vertical-align: top;
        }
        .main{
            margin:0 auto;
            width:1000px;
            margin-top:10px;

        }
        .fixed {
            position: fixed;
            top: 0;
            left: 0;
        }
    </style>
</head>
<body>
<div class="top"><img src="images/top.png" alt=""/></div>
<div class="nav" id="nav"><img src="images/nav.png" alt=""/></div>
<div class="main"><img src="images/main.png" alt=""/></div>
</body>
<script src="my.js" type="text/javascript"></script>
<script>
window.onscroll = function () {
    var nav = $("nav");
    var main = nav.nextSibling;
    //遇到一个问题，当条件为小于的时候可以正常运行但是当条件改成大于的时候，无法取消定位。
        //因为在第一次执行成功之后，nav的top值变成了0，并且永远是0了。所以可以提前将值赋给一个变量
        //var navTop = nav.offsetTop;
        //注意需要把该句定义在滚动事件函数外。
    if(scroll().top <= nav.offsetTop){
        nav.className = "nav";
    }else{
        //直接写一个样式，更改类名就可以改为定位了。
        nav.className = "nav fixed";
            //nav.className += " fixed";
                //这么写是有问题的，每触发一次onscroll事件就会在类名里添加一个fixed
        main.style.paddingTop = nav.offsetHeight;
    }
    console.log(scroll().top);
}
</script>
</html>
